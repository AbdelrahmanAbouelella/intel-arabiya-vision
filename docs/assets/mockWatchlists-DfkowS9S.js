const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/watchlists-qPOBmqe4.js","assets/http-AMOJ4gfJ.js","assets/index-3-gq2J65.js","assets/index-Cox3QMT5.css"])))=>i.map(i=>d[i]);
import{_ as l}from"./index-3-gq2J65.js";import{g as r}from"./mockCompanies-BWYhcJdp.js";let c=[{id:"wl-1",name:"My Watchlist",companyIds:[]}];const d=i=>new Promise(s=>setTimeout(s,i));async function y(){{const{listWatchlists:i}=await l(async()=>{const{listWatchlists:s}=await import("./watchlists-qPOBmqe4.js");return{listWatchlists:s}},__vite__mapDeps([0,1,2,3]));return i()}}async function W(i){await d(150);const s="wl-"+(c.length+1);return c.push({id:s,name:i,companyIds:[]}),{id:s}}async function k(i,s){{const{addCompaniesToWatchlist:e}=await l(async()=>{const{addCompaniesToWatchlist:a}=await import("./watchlists-qPOBmqe4.js");return{addCompaniesToWatchlist:a}},__vite__mapDeps([0,1,2,3]));return e(i,s)}}async function f(i,s){await d(150);const e=c.find(a=>a.id===i);e&&(e.companyIds=e.companyIds.filter(a=>a!==s))}async function v(i){const s=c.find(t=>t.id===i);if(!s)return{count:0,topRisk:[],lowRisk:[],topRevenue:[]};const e=await r({},void 0),a=await r({},e.cursor_next),o=[...e.items,...a.items].filter(t=>s.companyIds.includes(t.id)),m=[...o].sort((t,n)=>(n.risk_score??0)-(t.risk_score??0)),p=[...o].sort((t,n)=>(t.risk_score??0)-(n.risk_score??0)),u=[...o].sort((t,n)=>(n.revenue_last??0)-(t.revenue_last??0));return{count:o.length,topRisk:m.slice(0,5).map(t=>({id:t.id,name:t.name_en,risk:t.risk_score??0})),lowRisk:p.slice(0,5).map(t=>({id:t.id,name:t.name_en,risk:t.risk_score??0})),topRevenue:u.slice(0,5).map(t=>({id:t.id,name:t.name_en,revenue:t.revenue_last??0}))}}export{k as addCompaniesToWatchlist,W as createWatchlist,v as getWatchlistRollups,y as listWatchlists,f as removeCompanyFromWatchlist};
